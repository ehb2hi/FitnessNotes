<h2>{{ exerciseName }}</h2>

<div class="workout-container"> 
  <div class="form-card">
    <div class="image-card" *ngIf="workoutImage">
      <img [src]="workoutImage" alt="Workout Image" />
    </div>

    <label for="machineNumber">Machine #:</label>
    <input id="machineNumber" type="text" [(ngModel)]="machineNumber" />

    <div *ngFor="let set of sets; let i = index">
      <p><strong>Set {{ i + 1 }}</strong></p>

      <!-- weight row with inline switch (INSIDE the loop) -->
      <label>Weight:</label>
      <div class="weight-row">
        <input
          type="number"
          [(ngModel)]="set.weight"
          [placeholder]="'Weight (' + selectedUnit + ')'"
        />

        <label class="unit-switch">
          <input
            type="checkbox"
            [checked]="selectedUnit === 'lb'"
            (change)="onUnitToggle(($any($event.target)).checked)"
          />
          <span class="slider"></span>
        </label>

        <span class="unit-label">{{ selectedUnit | uppercase }}</span>
      </div>

      <!-- reps stays the same -->
      <label>Reps:</label>
      <input type="number" [(ngModel)]="set.reps" />
    </div>


    <div class="button-row">
      <button (click)="addSet()">Add Set</button>
      <button (click)="saveWorkout()">Save Workout</button>
    </div>

    <p class="history-label">
      <a [routerLink]="['/exercise-history', getFormattedExerciseName()]">
        ðŸ“– View History for {{ exerciseName }}
      </a>
    </p>
  </div>
</div>



